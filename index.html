<!-- Trigger rebuild -->
<!DOCTYPE html>
<html>
<head>
  <title>DataboxMVL Injector</title>
</head>
<body>
  <h1>Microcrédito Injection Dashboard</h1>
  <button id="injectBtn">Inject Microcrédito</button>

<script type="module">
  import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm';

  const supabase = createClient(
    'https://rzashahhkafjicjpupww.supabase.co',
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...'
  );

  document.getElementById('injectBtn').onclick = async () => {
    const { data, error } = await supabase.rpc('api.inject_microcredito_protocol', {
      p_documento_id: 'XYZ124',
      p_monto: 5000,
      p_fecha: '2023-07-15'
    });

    if (error) {
      console.error('Injection failed:', error.message);
      alert('Error: ' + error.message);
    } else {
      console.log('Injection successful:', data);
      alert('Microcrédito injected successfully!');
    }
  };
</script>
</body>
</html>
